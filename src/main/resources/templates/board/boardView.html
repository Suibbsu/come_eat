<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>커뮤니티</title>
</head>
<body>
	<th:block th:include="common/header"></th:block>
    <div class="content-wrap">
		<div class="content-title">커뮤니티</div>
		<table class="tbl tbl-border">
			<tr>
				<th class="b-color-g" width="20%">제목</th>
				<td colspan="3">
                    <input type="text" name="boardTitle" class="input" th:value="${b.boardTitle}" style="text-align: center;" readonly>
                </td>
			</tr>
			<tr>
				<th class="b-color-g">카테고리</th>
				<td colspan="3">
                    <input type="text" name="boardType" class="input" th:if="${b.boardType}==1" value="맛집추천" style="text-align: center;" readonly>
                    <input type="text" name="boardType" class="input" th:if="${b.boardType}==2" value="맛집비추" style="text-align: center;" readonly>
                    <input type="text" name="boardType" class="input" th:if="${b.boardType}==3" value="기타" style="text-align: center;" readonly>
				</td>
			</tr>
            <tr>
                <th class="b-color-g">작성자</th>
				<td>
				    <input type="text" name="boardWriter" class="input" th:value="${b.boardWriter}" style="text-align: center;" readonly>
				</td>
                <th class="b-color-g" width="20%">조회수</th>
				<td>
				    <input type="text" name="readCount" class="input" th:value="${b.boardCount}" style="text-align: center;" readonly>
				</td>
            </tr>
			<tr>
				<th colspan="4" class="textarea-td">
					<div class="textarea" th:utext="${b.boardContent}" style="text-align: left; height:100%;"></div>
				</th>
			</tr>
		</table>
        <table class="tbl tbl-border" style="border-top: none;" th:if="${session.m != null && session.m.memberId == b.boardWriter}">
            <tr>
                <th>
                    <button type="button" class="btn" style="width: 100%; font-size: 18px; line-height: 40px;" th:value="${b.boardNo}">삭제하기</button>
                </th>
                <th>
                    <a th:href="@{/board/updateFrm(boardNo=${b.boardNo})}" class="btn-o" style="width: 100%; font-size: 18px; line-height: 40px;">수정하기</a>
                </th>
            </tr>
        </table>
	</div>
	<th:block th:include="common/footer"></th:block>
	<script>
		//게시물 삭제
		$("[type=button]").on("click",function(){
			const boardNo = $(this).val();
			if(confirm("게시물을 삭제하시겠습니까?")){				
				location.href="/board/delete?boardNo="+boardNo;
			}
		});
	</script>
</body>
</html>